@page "/windowresize"

<Window WindowResized="OnWindowResized" />

@(WindowSize != null)
{
<AbsolutePanel @ref=absolutePanel
               Id="ParentPanel"
               AutoResize="true">
    <VerticalSliderPanel @ref=verticalPanel
                         Container=absolutePanel
                         ParentId="ParentPanel"
                         LeftPanelId="LeftPanel1"
                         RightPanelId="RightPanel1"
                         SliderWidth="10"
                         Width="absolutePanel.Width"
                         Height="absolutePanel.Height"
                         LeftPanelStartingWidth="@StartingWindowWidth">
        <LeftChildContent>
            <HorizontalSliderPanel Container=absolutePanel
                                   ParentId="LeftPanel1"
                                   BottomPanelId="BottomPanelId1"
                                   SliderHeight="10"
                                   TopStyleString="background-color:antiquewhite;"
                                   BottomStyleString="background-color:aliceblue;"
                                   Width="@verticalPanel.LeftPanelWidth"
                                   Height="@absolutePanel.Height"
                                   TopPanelHeight="@StartingWindowHeight">
                <TopChildContent>
                    <div style="padding:10px;">
                        <h3>Top Content 1</h3>
                        This demo initializes the size and location of the sliders as a percentage of the 
                        initial width of the browser.
                    </div>
                </TopChildContent>
                <BottomChildContent>
                    <div style="padding:10px;">
                        <h3>Bottom Content 1</h3>
                        <ul class="nav flex-column">
                            <li class="nav-item px-3">
                                <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                                    <span class="oi oi-resize-width" aria-hidden="true"></span> Vertical
                                </NavLink>
                            </li>
                            <li class="nav-item px-3">
                                <NavLink class="nav-link" href="horizontals">
                                    <span class="oi oi-resize-height" aria-hidden="true"></span> Horizontal
                                </NavLink>
                            </li>
                            <li class="nav-item px-3">
                                <NavLink class="nav-link" href="fourpanels">
                                    <span class="oi oi-resize-both" aria-hidden="true"></span> 4 Panels
                                </NavLink>
                            </li>
                            <li class="nav-item px-3">
                                <NavLink class="nav-link" href="windowresize">
                                    <span class="oi oi-resize-both" aria-hidden="true"></span> Percent Width
                                </NavLink>
                            </li>
                        </ul>
                    </div>
                </BottomChildContent>
            </HorizontalSliderPanel>
        </LeftChildContent>
        <RightChildContent>
            <HorizontalSliderPanel Container=absolutePanel
                                   ParentId="RightPanel1"
                                   SliderHeight="10"
                                   TopStyleString="background-color:orange;"
                                   BottomStyleString="background-color:yellow;"
                                   Width="@verticalPanel.RightPanelWidth"
                                   Height="@absolutePanel.Height"
                                   TopPanelHeight="@StartingWindowHeight">
                <TopChildContent>
                    <div style="padding:10px;">
                        <h3>Top Content 2</h3>
                    </div>
                </TopChildContent>
                <BottomChildContent>
                    <div style="padding:10px;">
                        <h3>Bottom Content 2</h3>
                    </div>
                </BottomChildContent>
            </HorizontalSliderPanel>
        </RightChildContent>
    </VerticalSliderPanel>
</AbsolutePanel>
}

@code
{
    AbsolutePanel absolutePanel { get; set; }
    VerticalSliderPanel verticalPanel { get; set; }
    Size WindowSize { get; set; } = null;
    int StartingWindowWidthPercent = 50;
    int StartingWindowHeightPercent = 50;

    int StartingWindowWidth
    {
        get
        {
            if (WindowSize != null)
            {
                return WindowSize.Width * StartingWindowWidthPercent / 100;
            }
            else
                return 0;
        }
    }

    int StartingWindowHeight
    {
        get
        {
            if (WindowSize != null)
            {
                return WindowSize.Height * StartingWindowHeightPercent / 100;
            }
            else
                return 0;
        }
    }

    void OnWindowResized(Size Size)
    {
        WindowSize = Size;
    }
}

<h3>WindowResize</h3>

@code {

}
